---
import Arrow from "@components/common/Arrow.astro";
---

<section id="hero">
	<div>
		<span class="heading">INT/EXT. Bruxelles</span>
		<h1>
			<span class="content">
				ORAMA, studio de production audiovisuelle bruxellois, vous accompagne dans la création de films commerciaux, de documentaires engagés et de fictions originales.
			</span>
			<span class="typewriter" aria-hidden="true">
				ORAMA, studio de production audiovisuelle bruxellois, vous accompagne dans la création de films commerciaux, de documentaires engagés et de fictions originales.
			</span>
		</h1>
	</div>
</section>

<script>
	const typewriter = document.querySelector(".typewriter") as HTMLElement;

	const text = typewriter.innerHTML;
	typewriter.innerHTML = "";

	const spans = Array.from(text).map((char) => {
		const span = document.createElement("span");
		span.textContent = char;
		span.style.opacity = "0";
		typewriter.appendChild(span);
		return span;
	});

	let i = 0;

	function type() {
		spans[i].style.opacity = "1";
		i++;
		if (i < spans.length) {
			setTimeout(type, 20);
		}
	}

	setTimeout(() => {
		type();
	}, 1000);
</script>

<style>
	section {
		display: flex;
		align-items: end;
		justify-content: space-between;
		gap: 2rem;
		height: calc(100vh - 10rem);
		padding-bottom: 5rem;
	}
	h1 {
		margin-top: 2rem;
		position: relative;
		display: block;
		font-size: var(--text-xl);
		font-weight: 400;
		line-height: 125%;
		max-width: 55rem;
	}
	.content {
		opacity: 0.15;
		user-select: none;
		-webkit-user-select: none;
	}
	.typewriter {
		position: absolute;
		top: 0;
		left: 0;
	}
	.typewriter span {
		opacity: 0;
		transition: opacity 1s ease;
	}
	a.more {
		display: flex;
		align-items: center;
		justify-content: center;
		flex-shrink: 0;
		width: 2.5rem;
		height: 2.5rem;
		padding: 0.25rem;
	}
	a.more span {
		width: 100%;
		height: 100%;
		pointer-events: none;
	}
	.orama {
		text-decoration: underline;
	}

	@keyframes blink {
		50% {
			opacity: 0;
		}
	}

	@media screen and (max-width: 1024px) {
		section {
			padding-top: 20rem;
			padding-bottom: 4rem;
		}
	}

	@media screen and (max-width: 768px) {
		section {
			flex-direction: column;
			align-items: end;
			justify-content: end;
			padding-bottom: 3rem;
			height: calc(100vh - 9rem);
		}
		h1 {
			font-size: var(--text-large);
		}
	}

	@media screen and (max-width: 480px) {
		h1 {
			font-size: var(--text-medium);
		}
	}
</style>
