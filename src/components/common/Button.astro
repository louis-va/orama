---
import ArrowLeft from '@assets/icons/ArrowLeft.astro';
import ArrowRight from '@assets/icons/ArrowRight.astro';
import ArrowUpRight from '@assets/icons/ArrowUpRight.astro';

interface Props {
	href: string;
  textTop: string;
  textBottom: string;
  icon: "arrow-left" | "arrow-right" | "arrow-up-right";
  target?: string;
}

const { href, textTop, textBottom, icon, target } = Astro.props;

let Icon;
switch (icon) {
  case "arrow-left":
    Icon = ArrowLeft;
    break;
  case "arrow-right":
    Icon = ArrowRight;
    break;
  case "arrow-up-right":
    Icon = ArrowUpRight;
    break;
}
---

<a href={href} data-cursor="focus" target={target}>
  <div class="icon">
    <Icon className="size-small" />
  </div>
  <div class="text">
    <span class="info">{textTop}</span>
    <span class="title">{textBottom}</span>
  </div>
  <div class="corners">
    <div class="corner top-left"></div>
    <div class="corner top-right"></div>
    <div class="corner bottom-left"></div>
    <div class="corner bottom-right"></div>
  </div>
</a>

<style>
  a {
    position: relative;
    padding: 1rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    width: 100%;
  }
  a .icon {
    pointer-events: none;
  }
  a .text {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    font-size: var(--text-small);
    text-transform: uppercase;
    pointer-events: none;
  }
  a .text .info {
    color: var(--foreground-60);
  }

  .corners {
		position: absolute;
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
		z-index: 20;
		pointer-events: none;
	}
	.corner {
		position: absolute;
		width: 0.75rem;
		height: 0.75rem;
		transition: all ease-out 0.15s;
	}
	.corner.top-left {
		border-top: 1px solid var(--foreground-60);
		border-left: 1px solid var(--foreground-60);
		top: 0;
		left: 0;
	}
	.corner.top-right {
		border-top: 1px solid var(--foreground-60);
		border-right: 1px solid var(--foreground-60);
		top: 0;
		right: 0;
	}
	.corner.bottom-left {
		border-bottom: 1px solid var(--foreground-60);
		border-left: 1px solid var(--foreground-60);
		bottom: 0;
		left: 0;
	}
	.corner.bottom-right {
		border-bottom: 1px solid var(--foreground-60);
		border-right: 1px solid var(--foreground-60);
		bottom: 0;
		right: 0;
	}

  a:hover .corners .corner.top-left {
		top: 0.25rem;
		left: 0.25rem;
	}
	a:hover .corners .corner.top-right {
		top: 0.25rem;
		right: 0.25rem;
	}
	a:hover .corners .corner.bottom-left {
		bottom: 0.25rem;
		left: 0.25rem;
	}
	a:hover .corners .corner.bottom-right {
		bottom: 0.25rem;
		right: 0.25rem;
	}
</style>

<style is:global>
	.touch-device a:hover .corners .corner.top-left {
		top: 0 !important;
		left: 0 !important;
	}
	.touch-device a:hover .corners .corner.top-right {
		top: 0 !important;
		right: 0 !important;
	}
	.touch-device a:hover .corners .corner.bottom-left {
		bottom: 0 !important;
		left: 0 !important;
	}
	.touch-device a:hover .corners .corner.bottom-right {
		bottom: 0 !important;
		right: 0 !important;
	}
</style>